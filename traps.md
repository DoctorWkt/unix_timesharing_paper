# 7. Traps

The PDP-11 hardware detects a number of program faults, such as
references to non-existent memory, unimplemented instructions,
and odd addresses used where an even address is required. Such
faults cause the processor to trap to a system routine. When an
illegal action is caught, the system writes the user's core image
on file "core" in the current working directory. Because of the
way the hardware and the system operate, the contents of all the
program-accessible registers are stored within this core image
files Thus, the debugger db discussed below can be used to determine
the state of the program at the time of the fault.

The user may also force the program to stop and a core image file
to be written by sending an interrupt signal. Currently this signal
is generated by typing the ASCII "FS" character (control "\"
on model 37 Teletypes). Thus programs which are looping or about
which the user has second thoughts may be halted.

If the user has several processes in execution simultaneously
(because he used the "&" facility of the Shell) only one of these
processes is stopped, and there is no control over which one; it
depends on which is currently in execution or executes next.
Clearly this situation leaves much to be desired, for several reasons:

1. when the user has several processes he cannot interrupt
   with any selectivity;
2. in all cases the rather large core image file is produced,
   when the user may merely have wished, for example, to stop
   a long printout;
3. it is often useful to send an asynchronous signal to a
   process without stopping it (for example by causing a trap
   to an agreed-upon location within the processâ€™s core
   image).

Doubtless, therefore, the interrupt facility will be reworked in
the future. Unfortunately, there are not only implementation
problems but even conceptual ones-- e.g. how does one specify a
process which may have started an arbitrary time ago?
